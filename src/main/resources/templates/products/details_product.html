<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${product.name + ' - Car Details'}">Car Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/font-awesome.min.css" rel="stylesheet">
    <style>
        /* General Styles */
        body {
            font-family: "Arial", sans-serif;
            line-height: 1.6;
            color: #333;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-weight: 700;
        }

        /* Header Styles */
        .navbar-brand img {
            max-height: 40px;
        }

        /* Car Details Section */
        #car-details img {
            max-height: 400px;
            object-fit: cover;
        }

        /* Vehicle Features Section */
        #vehicle-features i {
            color: #007bff;
            margin-right: 10px;
        }

        /* Ratings and Reviews Section */
        .card {
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        /* Other Cars Section */
        #other-cars .card-img-top {
            height: 200px;
            object-fit: cover;
        }

        /* Footer Styles */
        footer {
            background-color: #343a40;
        }

        footer a {
            color: #fff;
            text-decoration: none;
        }

        footer a:hover {
            color: #007bff;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            #car-details img {
                max-height: 300px;
            }
        }


    </style>
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img th:src="@{/public/image/logo/nxt.jng}" alt="Logo" height="30">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#service">Service</a></li>
                    <li class="nav-item"><a class="nav-link" href="#newest-cars">Newest Cars</a></li>
                    <li class="nav-item"><a class="nav-link" href="#featured-cars">Featured Cars</a></li>
                    <li class="nav-item"><a class="nav-link" href="#brands">Brands</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                </ul>
                <div class="navbar-nav">
                    <div sec:authorize="isAuthenticated()">
                        <span class="nav-item nav-link" th:text="${firstName + ' ' + lastName}"></span>
                        <a class="nav-item nav-link" href="/logout">Logout</a>
                    </div>
                    <div sec:authorize="!isAuthenticated()">
                        <a class="nav-item nav-link" href="/login">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>

<main class="container my-5">
    <div th:if="${errorMessage}" class="alert alert-danger" role="alert">
        <span th:text="${errorMessage}"></span>
    </div>
    <section id="car-details" class="mb-5">
        <div class="row">
            <div class="col-md-6">
                <img th:src="@{/image/{imageFileName}(imageFileName=${product.imageFileName})}" class="img-fluid rounded" th:alt="${product.name}">
            </div>
            <div class="col-md-6">
                <h1 th:text="${product.name}" class="mb-3">Car Name</h1>
                <p class="text-muted" th:text="${'Brand: ' + product.brand}">Brand</p>
                <p class="text-muted" th:text="${'Category: ' + product.category}">Category</p>
                <p class="h3 text-primary" th:text="${'$' + #numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')}">Price</p>
                <p th:text="${product.description}">Description</p>
                <p><small class="text-muted" th:text="${'Added on: ' + #dates.format(product.createDate, 'dd-MM-yyyy')}">Date Added</small></p>
                <button class="btn btn-primary">Contact Seller</button>
            </div>
        </div>
    </section>

    <section id="vehicle-features" class="mb-5">
        <h2 class="mb-4">Vehicle Features</h2>
        <div class="row">
            <div class="col-md-4" th:if="${product.modelYear}">
                <p><i class="fas fa-calendar-alt"></i> Model Year: <span th:text="${product.modelYear}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.mileage}">
                <p><i class="fas fa-road"></i> Mileage: <span th:text="${product.mileage + ' km'}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.horsepower}">
                <p><i class="fas fa-horse"></i> Horsepower: <span th:text="${product.horsepower + ' hp'}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.automatic != null}">
                <p><i class="fas fa-cogs"></i> Transmission: <span th:text="${product.automatic ? 'Automatic' : 'Manual'}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.engines}">
                <p><i class="fas fa-engine"></i> Engine: <span th:text="${product.engines}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.ccBatteryCapacity}">
                <p><i class="fas fa-battery-full"></i> Battery Capacity: <span th:text="${product.ccBatteryCapacity + ' kWh'}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.totalSpeed}">
                <p><i class="fas fa-tachometer-alt"></i> Top Speed: <span th:text="${product.totalSpeed + ' km/h'}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.performance}">
                <p><i class="fas fa-stopwatch"></i> 0-100 km/h: <span th:text="${product.performance + ' s'}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.fuelTypes}">
                <p><i class="fas fa-gas-pump"></i> Fuel Type: <span th:text="${product.fuelTypes}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.seats}">
                <p><i class="fas fa-chair"></i> Seats: <span th:text="${product.seats}"></span></p>
            </div>
            <div class="col-md-4" th:if="${product.torque}">
                <p><i class="fas fa-cog"></i> Torque: <span th:text="${product.torque + ' Nm'}"></span></p>
            </div>
        </div>
    </section>

    <section id="ratings-reviews" class="mb-5">
        <h2 class="mb-4">Ratings and Reviews</h2>
        <div class="row">
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">John Doe</h5>
                        <p class="card-text">Great car! Smooth ride and excellent fuel efficiency.</p>
                        <div class="text-warning">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Jane Smith</h5>
                        <p class="card-text">Impressive performance and stylish design. Highly recommended!</p>
                        <div class="text-warning">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Mike Johnson</h5>
                        <p class="card-text">Good value for money. Could use some improvements in interior quality.</p>
                        <div class="text-warning">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="other-cars" class="mb-5">
        <h2 class="mb-4">Other Featured Cars</h2>
        <div class="row">
            <div th:each="featuredCar : ${featuredCars}" class="col-md-4 mb-3">
                <div class="card">
                    <img th:src="@{/public/image/{imageFileName}(imageFileName=${featuredCar.imageFileName})}" class="card-img-top" th:alt="${featuredCar.name}">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${featuredCar.name}">Car Name</h5>
                        <p class="card-text" th:text="${'$' + #numbers.formatDecimal(featuredCar.price, 0, 'COMMA', 2, 'POINT')}">Price</p>
                        <a th:href="@{'/car/' + ${featuredCar.id}}" class="btn btn-primary">View Details</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<footer class="bg-dark text-light py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-3 mb-4">
                <img th:src="@{/public/image/logo/nxt.jng}" alt="Logo" height="30" class="mb-3">
                <p>Your trusted partner in finding the perfect car.</p>
            </div>
            <div class="col-md-3 mb-4">
                <h5>Quick Links</h5>
                <ul class="list-unstyled">
                    <li><a href="/" class="text-light">Home</a></li>
                    <li><a href="#service" class="text-light">Service</a></li>
                    <li><a href="#newest-cars" class="text-light">Newest Cars</a></li>
                    <li><a href="#featured-cars" class="text-light">Featured Cars</a></li>
                </ul>
            </div>
            <div class="col-md-3 mb-4">
                <h5>Brands</h5>
                <ul class="list-unstyled">
                    <li><a href="#" class="text-light">Toyota</a></li>
                    <li><a href="#" class="text-light">Honda</a></li>
                    <li><a href="#" class="text-light">Ford</a></li>
                    <li><a href="#" class="text-light">BMW</a></li>
                </ul>
            </div>
            <div class="col-md-3 mb-4">
                <h5>Newsletter</h5>
                <form>
                    <div class="input-group mb-3">
                        <input type="email" class="form-control" placeholder="Your email" aria-label="Your email" aria-describedby="button-addon2">
                        <button class="btn btn-primary" type="button" id="button-addon2">Subscribe</button>
                    </div>
                </form>
                <div class="mt-3">
                    <a href="#" class="text-light me-3"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-light me-3"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-light me-3"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-light"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <hr class="mt-4 mb-3">
        <p class="text-center mb-0">&copy; 2023 Your Company Name. All rights reserved.</p>
    </div>
</footer>

<script>
    document.addEventListener("DOMContentLoaded", () => {
// Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener("click", function (e) {
                e.preventDefault()
                document.querySelector(this.getAttribute("href")).scrollIntoView({
                    behavior: "smooth",
                })
            })
        })

// Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
// Import bootstrap here.  This could be a script tag in the HTML or a module import depending on your project setup.  For example:
//
        var tooltipList = tooltipTriggerList.map((tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl))

// Form validation for newsletter subscription
        const newsletterForm = document.querySelector("footer form")
        if (newsletterForm) {
            newsletterForm.addEventListener("submit", function (e) {
                e.preventDefault()
                const emailInput = this.querySelector('input[type="email"]')
                if (emailInput.value.trim() === "") {
                    alert("Please enter a valid email address.")
                } else {
                    alert("Thank you for subscribing!")
                    emailInput.value = ""
                }
            })
        }

// Lazy loading for images
        if ("loading" in HTMLImageElement.prototype) {
            const images = document.querySelectorAll('img[loading="lazy"]')
            images.forEach((img) => {
                img.src = img.dataset.src
            })
        } else {
// Fallback for browsers that don't support lazy loading
            const script = document.createElement("script")
            script.src = "https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"
            document.body.appendChild(script)
        }
    })
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/static/js/scripts.js}"></script>
<script src="/static/js/bootstrap.bundle.min.js"></script>
</body>
</html>

